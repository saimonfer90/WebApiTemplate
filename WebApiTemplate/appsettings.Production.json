{
  "WebApiTemplate": {
    "Serilog": {
      "Using": [ "Serilog.Sinks.Console", "Serilog.Sinks.File" ],
      "MinimumLevel": "Debug",
      "WriteTo:Async": {
        "Name": "Async",
        "Args": {
          "Configure": [
            {
              "Name": "Console",
              "Args": {
                "theme": "Serilog.Sinks.SystemConsole.Themes.AnsiConsoleTheme::Code, Serilog.Sinks.Console",
                "outputTemplate": "{Timestamp:HH:mm:ss} [{Level:u3}] {Message:lj}{NewLine}"
              }
            },
            {
              "Name": "File",
              "Args": {
                "path": "Logs/log.txt",
                "rollingInterval": "Day",
                "outputTemplate": "{Timestamp:HH:mm:ss} [{Level:u3}] {Message:lj}{NewLine}",

                //kepts at most 31 files in folder, delete the olders
                "retainedFileCountLimit": "31"
              }
            }
          ],
          //"Enrich": [ "FromLogContext", "WithMachineName", "WithThreadId" ],
          "Destructure": [
            {
              "Name": "With",
              "Args": { "policy": "Sample.CustomPolicy, Sample" }
            },
            {
              "Name": "ToMaximumDepth",
              "Args": { "maximumDestructuringDepth": 4 }
            },
            {
              "Name": "ToMaximumStringLength",
              "Args": { "maximumStringLength": 100 }
            },
            {
              "Name": "ToMaximumCollectionCount",
              "Args": { "maximumCollectionCount": 10 }
            }
          ],
          "Properties": {
            "Application": "WebApiTemplate"
          }
        }
      }
    }
  }
}